## PrincipalComponentAnalysis
pythonで主成分分析を実施するフレームワークです。

主成分分析後にはランダムフォレストを用いた機械学習も実施ているコードになります。

## 主成分分析とは
主成分分析とは次元削減を行いデータを考察するための技術になる

多次元化している現在のデータではデータを人で見るのも限界があるため

主成分分析を行い機械で次元を削減させ考察に役立てる

本記事では学校の成績表をベースに主成分分析を行い次元削減に挑戦し内容を考察していく

## 主成分分析は教師なし学習に属する
機械学習には３種類が存在

・教師あり学習

　ラベル（正解や目的変数）が付いたデータを使い、その関係性を学習する手法。
 

・教師なし学習

　ラベルがないデータから、データの構造や特徴、パターンを見つける手法。
 
  例：クラスタリング、主成分分析（PCA）など。

  
・半教師あり学習

　一部のデータにだけラベルがあり、ラベルのないデータと組み合わせて学習する手法。
 
今回は教師なし学習の手法の１つの主成分分析を紹介する。

教師なし学習は

データにラベル（答え)や目的変数がなくてもデータの構造・特徴を捉えるために用いられる手法。

データ数が少ない、ラベル付きデータがないなどの理由で、教師あり学習が難しい場合に、教師なし学習や半教師あり学習が活用されることがある。

教師なし学習は、探索的データ解析や特徴抽出、クラスタリング、可視化など、担当者の感覚的な知見を定量的に補強・検証する目的で幅広く使われている。

## 参考文系
http://daas.la.coocan.jp/toukei_hosoku/tahenryo_jirei_01.htm

## Pathの構成
以下の構成でPathを組んでください

主成分分析

data

上記URLから取得した成績データを入れる

src

ここに主成分分析.ipynbを入れる

temp

result

## コードの流れ
想定している内容は以下です。

あなたは学校の担任先生です。転校生を迎えることになりました。
しかし、現状自分のクラスがどういうクラスなのかわかっていません。

そのうえでその転校生がどのような人と仲良くなるのかわかりません。
転校生の成績を知っているという状態です。まず転校生が入るとどのようなグループに入るのかをあらかじめ分析しておこうとなっています。


一旦成績表を基に自身のクラスがどんなクラスなのか分析してみることにしました。

2次元に次元削減を行い主成分を見ていきます。

こちらはPC1、PC2と説いています。
それらは文系と理系の方向性と説き可視化をしています。

確認のために相関マップで科目毎で相関関係を確認して方向性を確かめます。

そうすると3つのグループが形成されていることがわかりました。

文系、理系、社会系です。

社会でもほとんど文系に近い結果が得られたので
PC1とPC2に関しては概ね理系と文系で分けて間違いはなさそうです。

主成分分析は一旦ここで終わりですが

ここからは転校生がどこのグループに属するかもう少し具体的にするために

機械学習を実装します。

今回はランダムフォレストを活用して条件を追加してより具体的に転校生がどこに属するのかを調べます。

今回の条件はこちらです。5つにグループ分けをおこないます。

'''

・優秀

　平均的に高いがばらつきがない　PC1のデータ且つばらつきのデータを活用
 
・ PC1　3以上

・ PC2　±1.5以下
 
・不良

　平均的にばらつきがなく点数がひくい　PC1且つばらつきのデータを活用
 
・ PC1　-5以上

・ PC2　±1.5以下

 
・理系

　理系に偏っている人　PC2のデータを活用
 
・ PC1　-4以上

・ PC2　2.1以上

 
・文系

　文系に偏っている人　PC2のデータを活用
 
・ PC1　-4以上

・ PC2　-2.1以下


・平凡

　上記に当てはまらない者
 
'''

ランダムフォレストとは
たくさんの決定木を作り、それらの多数決で予測する手法

精度が高くて過学習に強い機械学習アルゴリズム

イメージは多くの専門家に聞いて多数決で決定して分類先を決めていくイメージ

今回は科目の評価の査定結果からどの分類に該当するか事前に学習させて学習モデルを構築する

新たにデータをを読み込みそのデータがどこのクラスに該当するか予測を行う

※決定木とは別資料で説明

※過学習（オーバーフィッティング）

過学習が機械学習モデルに及ぼす影響とは、

モデルが訓練データのノイズや偶然のパターンまで覚えすぎる状態を示す。

要素をランダムにドロップアウトすることが機械学習の精度向上に寄与する。


こちらモデルを作成して

転校生の成績データをつくり

特性が違い人を割り当てて可視化してみます。

転校生がどこのグループに属してクラスがどのように変化するのか考察してみましょう。















